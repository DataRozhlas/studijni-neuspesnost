<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Highcharts Example</title>

		<style type="text/css">

		</style>
	</head>
	<body>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="https://code.highcharts.com/highcharts.js"></script>

<div id="casovarada" style="min-width: 310px; height: 600px; margin: 0 auto"></div>

<script type="text/javascript">

var colors = ['#EA614A', '#20649B', '#008836', '#6B96CA', '#A38456', '#A87A93', '#D19C95']

var rok0 = [[5.5],[5.2],[5.6],[5.0],[5.9],[5.4],[5.2],[6.3],[5.9],[5.8],[5.8],[5.2],[5.6],[5.4],[5.7],[5.7],[5.7]],
    rok1 = [[22.2],[21.8],[24.5],[24.6],[26.0],[28.8],[27.2],[28.2],[29.3],[30.3],[31.1],[32.0],[32.3],[35.0],[33.7],[34.0]],
    rok2 = [[7.3],[8.7],[8.8],[10.6],[10.2],[9.5],[9.1],[8.9],[9.2],[9.9],[9.7],[9.8],[10.4],[10.1],[11.0]],
    rok3 = [[3.7],[4.3],[4.9],[5.0],[4.5],[4.4],[4.4],[4.6],[4.5],[4.3],[4.5],[4.8],[4.8],[4.7]],
    rok4 = [[2.0],[2.4],[2.3],[2.4],[2.3],[2.4],[2.5],[2.6],[2.4],[2.6],[2.8],[2.7],[3.0]],
    rok5 = [[1.4],[1.3],[1.3],[1.1],[1.3],[1.3],[1.3],[1.2],[1.4],[1.3],[1.5],[1.7]],
    rok6 = [[1.4],[1.4],[1.1],[1],[0.9],[0.9],[1.1],[1.1],[1],[1],[0.9]]

var roky = [2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017]

Highcharts.chart('casovarada', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'Studijní neúspěšnost bakalářů, časová řada'
    },
    subtitle: {
        text: 'srovnání neúspěšně ukončených studií podle ročníku nástupu'
    },
    xAxis: {
        categories: roky
    },
    yAxis: {
        min: 0,
        title: {
            text: 'studijní neúspěšnost Bc. studia'
        },
        labels: {
            format: '{value} %'
        },
        reversedStacks: false
    },
    tooltip: {
        formatter: function () {
            var s = 'Začátek studia: <b>' + this.x + '</b>',
                celkem = 0;

            $.each(this.points, function () {
                s += '<br/><span style="color:' + this.color +'">' + this.series.name + '</span> neuspělo <strong>' +
                    this.y + ' %</strong>';
                celkem += this.y;
            });

            s += '<br/>Dosud neúspěšně ukončilo studium <b>' + Math.round(celkem*10)/10 + '%</b>';

            return s;
        },
        shared: true
    },
    exporting: {
        enabled: false
    },
    credits: {
        href: '',
        text: 'Zdroj: MŠMT'
    },
    plotOptions: {
        series: {
            stacking: 'normal'
        }
    },
    series: [{
        name: '0. rok',
        data: rok0,
        color: colors[0]
    }, {
        name: '1. rok',
        data: rok1,
        color: colors[1]
    }, {
        name: '2. rok',
        data: rok2,
        color: colors[2]
    }, {
        name: '3. rok',
        data: rok3,
        color: colors[3]
    }, {
        name: '4. rok',
        data: rok4,
        color: colors[4]
    }, {
        name: '5. rok',
        data: rok5,
        color: colors[5]
    }, {
        name: '6. rok a později',
        data: rok6,
        color: colors[6]
    }]
});

		</script>
	</body>
</html>

